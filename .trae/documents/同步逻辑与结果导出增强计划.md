# 同步逻辑与结果导出增强计划

我将按照您的要求，确保所有代码（不仅仅是 `solve_single_instance`）都同步使用新的输出逻辑，并增加生成详细 TXT 报告的功能。

## 1. 代码逻辑同步
`main.py` 中的 `solve_single_instance` 已经包含了最新的坐标转换（Center-Relative）和方向映射（Direction Mapping）逻辑。我需要确保这个逻辑是统一且唯一的。
*   **检查**: 确认 `convert_results.py`（如果还在使用）是否需要同步，或者直接废弃它，完全依赖 `main.py` 的生成逻辑。鉴于您现在的需求是“求解并生成”，`main.py` 是核心。
*   **一致性**: 确保所有输出路径都指向正确的结果目录。

## 2. 新增 TXT 报告生成功能
在 `solve_single_instance` 函数中，除了生成 JSON，还将生成一个同名的 `.txt` 文件（例如 `reduce_E1594609968101_result.txt`）。

### TXT 内容结构设计
该文件将包含以下部分：
1.  **全局摘要 (Summary)**:
    *   Estimate Code (算例编号)
    *   Total Vehicles (总车辆数)
    *   Total Distance (总行驶距离)
    *   Total Volume Utilization (总体积利用率)
    *   Total Weight Utilization (总重量利用率)
    *   Objective Function Cost (目标函数值)

2.  **车辆详情 (Vehicle Details)** - 对每辆车：
    *   **Route Info**: 车辆类型、访问节点顺序 (Platform Sequence)。
    *   **Metrics**: 该车的装载体积、重量、利用率。
    *   **Packed Items**: 简要列出装载的货物 ID 或数量。

## 3. 执行步骤
1.  **修改 `main.py`**:
    *   在 `solve_single_instance` 末尾添加 `save_text_report` 函数调用。
    *   实现 `save_text_report` 函数，按照上述结构格式化字符串并写入文件。
2.  **验证**:
    *   再次运行 `run_single.py` (针对 `reduce_E1594609968101.txt`)。
    *   检查生成的 JSON 是否依然正确。
    *   检查生成的 TXT 是否包含所有要求的统计信息。

这个计划将满足您“文章可视化 JSON”和“详细分析 TXT”的双重需求。
